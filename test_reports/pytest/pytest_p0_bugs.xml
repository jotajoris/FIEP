<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="4" skipped="0" tests="14" time="5.159" timestamp="2026-01-27T15:09:16.119367+00:00" hostname="agent-env-b8b9307f-b60f-4c58-a106-953f02cf4c17"><testcase classname="backend.tests.test_p0_bugs.TestAuthentication" name="test_admin_login_success" time="0.373" /><testcase classname="backend.tests.test_p0_bugs.TestAuthentication" name="test_login_invalid_credentials" time="0.044" /><testcase classname="backend.tests.test_p0_bugs.TestAdminNotasFiscais" name="test_admin_notas_fiscais_returns_200" time="0.366" /><testcase classname="backend.tests.test_p0_bugs.TestAdminNotasFiscais" name="test_admin_notas_fiscais_structure" time="0.352" /><testcase classname="backend.tests.test_p0_bugs.TestAdminNotasFiscais" name="test_admin_notas_fiscais_compra_fields" time="0.336" /><testcase classname="backend.tests.test_p0_bugs.TestAdminNotasFiscais" name="test_admin_notas_fiscais_requires_admin" time="0.039" /><testcase classname="backend.tests.test_p0_bugs.TestRastreioAPI" name="test_rastreio_valid_code_format" time="0.986" /><testcase classname="backend.tests.test_p0_bugs.TestRastreioAPI" name="test_rastreio_returns_link_when_unavailable" time="0.952" /><testcase classname="backend.tests.test_p0_bugs.TestRastreioAPI" name="test_rastreio_requires_auth" time="0.037" /><testcase classname="backend.tests.test_p0_bugs.TestPurchaseOrdersWithNFs" name="test_get_purchase_orders_list" time="0.448"><failure message="AssertionError: Response should be a list&#10;assert False&#10; +  where False = isinstance({'data': [{'cliente': 'FIEP', 'created_at': '2026-01-09T01:07:48.404388+00:00', 'created_by': 'projetos.onsolucoes@gmail.com', 'data_entrega': '2025-12-16', ...}, {'cliente': 'FIEP', 'created_at': '2026-01-09T01:07:48.419831+00:00', 'created_by': 'projetos.onsolucoes@gmail.com', 'endereco_entrega': 'RUA HEITOR STOCKLER DE FRANCA, 161, MARIA LUIZA, CASCAVEL', ...}, {'cliente': 'FIEP', 'created_at': '2026-01-09T01:07:48.435085+00:00', 'created_by': 'projetos.onsolucoes@gmail.com', 'endereco_entrega': 'RUA SURUCUA ACU, 299, VILA ARAPONGUINHA, ARAPONGAS', ...}, {'cliente': 'FIEP', 'created_at': '2026-01-09T01:07:48.450097+00:00', 'created_by': 'projetos.onsolucoes@gmail.com', 'endereco_entrega': 'RUA CORONEL LUSTOSA, 1736, BATEL, GUARAPUAVA', ...}, {'cliente': 'FIEP', 'created_at': '2026-01-09T01:07:48.465491+00:00', 'created_by': 'projetos.onsolucoes@gmail.com', 'endereco_entrega': 'RUA UNIÃO DA VITÓRIA, 66, MINIGUACU, FRANCISCO BELTRAO', ...}], 'limit': 5, 'page': 1, 'total': 54, ...}, list)">backend/tests/test_p0_bugs.py:211: in test_get_purchase_orders_list
    assert isinstance(data, list), "Response should be a list"
E   AssertionError: Response should be a list
E   assert False
E    +  where False = isinstance({'data': [{'cliente': 'FIEP', 'created_at': '2026-01-09T01:07:48.404388+00:00', 'created_by': 'projetos.onsolucoes@gmail.com', 'data_entrega': '2025-12-16', ...}, {'cliente': 'FIEP', 'created_at': '2026-01-09T01:07:48.419831+00:00', 'created_by': 'projetos.onsolucoes@gmail.com', 'endereco_entrega': 'RUA HEITOR STOCKLER DE FRANCA, 161, MARIA LUIZA, CASCAVEL', ...}, {'cliente': 'FIEP', 'created_at': '2026-01-09T01:07:48.435085+00:00', 'created_by': 'projetos.onsolucoes@gmail.com', 'endereco_entrega': 'RUA SURUCUA ACU, 299, VILA ARAPONGUINHA, ARAPONGAS', ...}, {'cliente': 'FIEP', 'created_at': '2026-01-09T01:07:48.450097+00:00', 'created_by': 'projetos.onsolucoes@gmail.com', 'endereco_entrega': 'RUA CORONEL LUSTOSA, 1736, BATEL, GUARAPUAVA', ...}, {'cliente': 'FIEP', 'created_at': '2026-01-09T01:07:48.465491+00:00', 'created_by': 'projetos.onsolucoes@gmail.com', 'endereco_entrega': 'RUA UNIÃO DA VITÓRIA, 66, MINIGUACU, FRANCISCO BELTRAO', ...}], 'limit': 5, 'page': 1, 'total': 54, ...}, list)</failure></testcase><testcase classname="backend.tests.test_p0_bugs.TestPurchaseOrdersWithNFs" name="test_get_single_purchase_order_structure" time="0.317"><failure message="KeyError: 0">backend/tests/test_p0_bugs.py:230: in test_get_single_purchase_order_structure
    po_id = pos[0]["id"]
            ^^^^^^
E   KeyError: 0</failure></testcase><testcase classname="backend.tests.test_p0_bugs.TestPurchaseOrdersWithNFs" name="test_purchase_order_items_have_nf_field" time="0.318"><failure message="TypeError: unhashable type: 'slice'">backend/tests/test_p0_bugs.py:263: in test_purchase_order_items_have_nf_field
    for po_summary in pos[:10]:  # Check first 10 POs
                      ^^^^^^^^
E   TypeError: unhashable type: 'slice'</failure></testcase><testcase classname="backend.tests.test_p0_bugs.TestHealthAndVersion" name="test_health_check" time="0.048"><failure message="requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)">/root/.venv/lib/python3.11/site-packages/requests/models.py:976: in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.11/json/__init__.py:346: in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.11/json/decoder.py:337: in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.11/json/decoder.py:355: in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
E   json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:
backend/tests/test_p0_bugs.py:300: in test_health_check
    data = response.json()
           ^^^^^^^^^^^^^^^
/root/.venv/lib/python3.11/site-packages/requests/models.py:980: in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
E   requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)</failure></testcase><testcase classname="backend.tests.test_p0_bugs.TestHealthAndVersion" name="test_version_endpoint" time="0.349" /></testsuite></testsuites>